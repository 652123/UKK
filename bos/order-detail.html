<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Pesanan - Bos Dazeon</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            400: '#a78bfa',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            accent: '#d946ef',
                        }
                    },
                    animation: {
                        'gradient': 'gradient 8s linear infinite',
                    },
                    keyframes: {
                        'gradient': {
                            '0%, 100%': {
                                'background-size': '200% 200%',
                                'background-position': 'left center'
                            },
                            '50%': {
                                'background-size': '200% 200%',
                                'background-position': 'right center'
                            },
                        }
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .glass {
                @apply bg-[#121212] border border-white/5 backdrop-blur-md;
            }
            .text-glow {
                text-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
            }
        }
        /* Custom Scrollbar for Dark Theme */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #050505; 
        }
        ::-webkit-scrollbar-thumb {
            background: #333; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../config.js"></script>
    <script src="../auth_check.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkAuth(['bos']);
        });

        // MOBILE SIDEBAR TOGGLE
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            sidebar.classList.toggle('-translate-x-full');
            if (overlay.classList.contains('hidden')) {
                overlay.classList.remove('hidden');
            } else {
                overlay.classList.add('hidden');
            }
        }
    </script>
</head>

<body class="bg-[#050505] font-sans text-gray-100 selection:bg-brand-500 selection:text-white">

    <!-- MOBILE OVERLAY BACKDROP -->
    <div id="mobile-overlay" onclick="toggleSidebar()"
        class="fixed inset-0 bg-black/50 z-40 hidden md:hidden backdrop-blur-sm transition-opacity"></div>

    <div class="flex h-screen bg-[#050505]">

        <!-- SIDEBAR (Boss Version) -->
        <div id="sidebar"
            class="fixed inset-y-0 left-0 z-50 w-64 bg-[#121212] border-r border-white/5 transform -translate-x-full transition-transform duration-300 md:relative md:translate-x-0 md:flex md:flex-col">
            <div class="flex items-center justify-between px-6 h-20 border-b border-white/5">
                <span
                    class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-brand-accent uppercase tracking-wider">DAZEON</span>
                <button onclick="toggleSidebar()" class="md:hidden text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto custom-scrollbar">
                <a href="boss_dashboard.html"
                    class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200">
                    <i class="fas fa-chart-pie w-6 text-lg"></i><span class="ml-4">Ringkasan Bisnis</span>
                </a>
                <a href="reports.html"
                    class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200">
                    <i class="fas fa-chart-line w-6 text-lg"></i><span class="ml-4">Laporan Detail</span>
                </a>
                <a href="manage_users.html"
                    class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200">
                    <i class="fas fa-users-cog w-6 text-lg"></i><span class="ml-4">Kelola Staf</span>
                </a>
                <a href="manage_products.html"
                    class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200">
                    <i class="fas fa-tshirt w-6 text-lg"></i><span class="ml-4">Produk</span>
                </a>
                <a href="boss_manage_orders.html"
                    class="flex items-center px-4 py-3 rounded-xl bg-brand-600/10 text-brand-400 border border-brand-500/20 font-semibold shadow-[0_0_15px_rgba(139,92,246,0.2)]">
                    <i class="fas fa-receipt w-6 text-lg"></i><span class="ml-4">Pesanan</span>
                </a>
                <a href="helpdesk.html"
                    class="flex items-center px-4 py-3 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200">
                    <i class="fas fa-headset w-6 text-lg"></i><span class="ml-4">Helpdesk</span>
                </a>
                <a href="../login.html"
                    class="flex items-center px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-colors duration-200 mt-auto border border-transparent hover:border-red-500/20">
                    <i class="fas fa-sign-out-alt w-6 text-lg"></i><span class="ml-4">Logout</span>
                </a>
            </nav>
        </div>

        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- HEADER -->
            <header
                class="flex justify-between items-center h-20 px-6 bg-[#121212]/80 backdrop-blur-md border-b border-white/5 sticky top-0 z-10">
                <div class="flex items-center gap-4">
                    <button onclick="toggleSidebar()"
                        class="md:hidden text-white p-2 hover:bg-white/10 rounded-lg transition">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <a href="boss_manage_orders.html" class="text-gray-400 hover:text-white transition"><i
                            class="fas fa-arrow-left text-lg"></i></a>
                    <h1 class="text-xl md:text-2xl font-bold text-white tracking-wide">Detail Pesanan</h1>
                </div>
                <span
                    class="text-gray-400 hidden sm:block bg-[#0a0a0a] px-4 py-2 rounded-full border border-white/5">Halo,
                    <strong id="user-name" class="text-brand-400">Bos</strong>!</span>
            </header>

            <!-- MAIN CONTENT -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-[#050505] p-6">
                <!-- Content copied from admin/order-detail.html but served for boss context -->
                <div class="container mx-auto max-w-5xl">

                    <div id="loading" class="text-center py-20">
                        <i class="fas fa-circle-notch fa-spin text-3xl text-brand-500"></i>
                        <p class="mt-4 text-gray-400">Memuat data pesanan...</p>
                    </div>

                    <div id="order-content" class="hidden grid grid-cols-1 lg:grid-cols-3 gap-6">

                        <!-- LEFT COLUMN: Order Items & Status -->
                        <div class="lg:col-span-2 space-y-6">

                            <!-- Status Card -->
                            <div class="glass p-6 rounded-2xl">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="text-xs text-gray-400 font-bold uppercase tracking-wider mb-1">
                                            Order
                                            ID</p>
                                        <h2 id="order-id-display"
                                            class="text-2xl font-black text-white mb-1 tracking-wide">...
                                        </h2>
                                        <p id="order-date" class="text-sm text-gray-500">...</p>
                                    </div>
                                    <div class="text-right">
                                        <span id="status-badge"
                                            class="px-4 py-2 rounded-xl text-sm font-bold inline-block border">...</span>
                                    </div>
                                </div>

                                <!-- Actions Grid -->
                                <div class="mt-6 pt-6 border-t border-white/5 grid grid-cols-2 sm:grid-cols-4 gap-2"
                                    id="action-buttons">
                                    <!-- Buttons injected via JS -->
                                </div>
                            </div>

                            <!-- Items Card -->
                            <div class="glass rounded-2xl overflow-hidden">
                                <div class="px-6 py-4 border-b border-white/5 bg-[#121212]/50">
                                    <h3 class="font-bold text-gray-200">Produk Dipesan</h3>
                                </div>
                                <div id="order-items" class="p-6 space-y-4"></div>
                                <div
                                    class="px-6 py-4 bg-[#121212]/50 border-t border-white/5 flex justify-between items-center">
                                    <span class="font-bold text-gray-400">Total Pesanan</span>
                                    <span class="font-black text-xl text-brand-400" id="total-amount">Rp0</span>
                                </div>
                            </div>

                        </div>

                        <!-- RIGHT COLUMN: Customer & Payment Info -->
                        <div class="lg:col-span-1 space-y-6">

                            <!-- Customer Info -->
                            <div class="glass rounded-2xl overflow-hidden">
                                <div class="px-6 py-4 border-b border-white/5 bg-[#121212]/50">
                                    <h3 class="font-bold text-gray-200">Informasi Pelanggan</h3>
                                </div>
                                <div class="p-6 space-y-4">
                                    <div>
                                        <p class="text-xs text-gray-500 font-bold uppercase">Nama Penerima</p>
                                        <p class="font-medium text-white" id="cust-name">...</p>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-500 font-bold uppercase">Email / Kontak</p>
                                        <p class="font-medium text-gray-300 break-all" id="cust-contact">...</p>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-500 font-bold uppercase">Alamat Pengiriman</p>
                                        <p class="text-sm text-gray-400 leading-relaxed mt-1" id="cust-address">...
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- Shipment Info -->
                            <div class="glass rounded-2xl overflow-hidden">
                                <div class="px-6 py-4 border-b border-white/5 bg-[#121212]/50">
                                    <h3 class="font-bold text-gray-200">Pengiriman</h3>
                                </div>
                                <div class="p-6 space-y-4">
                                    <div>
                                        <p class="text-xs text-gray-500 font-bold uppercase">Ekspedisi</p>
                                        <p class="font-medium text-white" id="ship-courier">-</p>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-500 font-bold uppercase">Nomor Resi</p>
                                        <div class="flex items-center mt-1">
                                            <p class="font-mono font-bold text-brand-400 text-lg mr-2" id="ship-resi">-
                                            </p>
                                            <button onclick="copyResi()" id="btn-copy-resi"
                                                class="hidden text-gray-500 hover:text-white transition"><i
                                                    class="fas fa-copy"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>
            </main>
        </div>

        <!-- Reusing the same script logic as Admin, perfectly valid for Boss -->
        <script>
            document.addEventListener('DOMContentLoaded', async () => {
                const urlParams = new URLSearchParams(window.location.search);
                const orderId = urlParams.get('id');

                if (!orderId) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Order ID tidak ditemukan',
                        icon: 'error',
                        background: '#121212',
                        color: '#fff',
                        confirmButtonColor: '#d33'
                    }).then(() => window.location.href = 'boss_manage_orders.html');
                    return;
                }

                loadOrderDetail(orderId);
            });

            async function loadOrderDetail(orderId) {
                const loading = document.getElementById('loading');
                const content = document.getElementById('order-content');

                try {
                    const { data: order, error } = await window.db
                        .from('orders')
                        .select(`
        *,
        order_details (
        *,
        products (name, image_url)
        )
        `)
                        .eq('id', orderId)
                        .single();

                    if (error) throw error;
                    if (!order) throw new Error("Pesanan tidak ditemukan");

                    renderData(order);
                    loading.classList.add('hidden');
                    content.classList.remove('hidden');

                } catch (err) {
                    console.error(err);
                    loading.innerHTML = `<p class="text-red-500 font-bold">Error: ${err.message}</p>`;
                }
            }

            function renderData(order) {
                // 1. Header Info
                document.getElementById('order-id-display').innerText = `#${String(order.id).slice(0, 8).toUpperCase()}`;
                document.getElementById('order-date').innerText = new Date(order.created_at).toLocaleDateString('id-ID', {
                    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
                });

                // 2. Status Badge
                // 2. Status Badge
                const statusBadge = document.getElementById('status-badge');
                let color = 'bg-gray-500/10 text-gray-400 border-gray-500/20';
                let label = order.status;

                if (order.status === 'menunggu_pembayaran') { color = 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'; label = 'Menunggu Pembayaran'; }
                else if (order.status === 'diproses' || order.status === 'dikemas') { color = 'bg-blue-500/10 text-blue-400 border-blue-500/20'; label = 'Siap Dikemas'; }
                else if (order.status === 'dikirim') { color = 'bg-purple-500/10 text-purple-400 border-purple-500/20'; label = 'Sedang Dikirim'; }
                else if (order.status === 'selesai') { color = 'bg-green-500/10 text-green-400 border-green-500/20'; label = 'Selesai'; }
                else if (order.status === 'dibatalkan') { color = 'bg-red-500/10 text-red-400 border-red-500/20'; label = 'Dibatalkan'; }

                statusBadge.className = `px-4 py-2 rounded-xl text-sm font-bold inline-block uppercase border ${color}`;
                statusBadge.innerText = label;

                // 3. Customer Info extraction
                let custName = 'Visitor';
                let custPhone = '-';
                let custAddress = '-';
                let custEmail = '-';
                let shipCourier = null; // Variable to store courier from JSON

                if (order.shipping_address) {
                    try {
                        const addr = typeof order.shipping_address === 'string' ? JSON.parse(order.shipping_address) : order.shipping_address;
                        custName = addr.name || addr.penerima || custName;
                        custPhone = addr.phone || addr.telepon || custPhone;
                        custEmail = addr.email || '-';
                        // Extract courier if available in address object
                        if (addr.courier) shipCourier = addr.courier;

                        const parts = [addr.address, addr.city, addr.province, addr.postal_code].filter(Boolean);
                        custAddress = parts.join(', ');
                    } catch (e) {
                        custAddress = typeof order.shipping_address === 'string' ? order.shipping_address : JSON.stringify(order.shipping_address);
                    }
                }

                document.getElementById('cust-name').innerText = custName;
                document.getElementById('cust-contact').innerHTML = `${custPhone}<br><span class="text-gray-400 text-xs">${custEmail}</span>`;
                document.getElementById('cust-address').innerText = custAddress;

                // --- BOSS EXCLUSIVE: LOYALTY INSIGHTS ---
                // We need to fetch aggregate data for this user
                fetchCustomerStats(order.user_id);


                // 4. Products
                const itemsContainer = document.getElementById('order-items');
                itemsContainer.innerHTML = '';
                let subtotal = 0;

                order.order_details.forEach(detail => {
                    const p = detail.products;
                    const totalItem = detail.price_at_purchase * detail.quantity;
                    subtotal += totalItem;

                    let img = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 80 80\"%3E%3Crect fill=\"%23f3f4f6\" width=\"80\" height=\"80\"/%3E%3Ctext x=\"50%25\" y=\"50%25\" fill=\"%239ca3af\" font-size=\"10\" text-anchor=\"middle\" dy=\".3em\"%3EIMG%3C/text%3E%3C/svg%3E';
                    if (p?.image_url) {
                        img = p.image_url.startsWith('http') ? p.image_url :
                            window.db.storage.from('product-images').getPublicUrl(p.image_url).data.publicUrl;
                    }

                    itemsContainer.innerHTML += `
            <div class="flex items-start gap-4">
                <img src="${img}" class="w-16 h-16 object-cover rounded-lg border border-white/10">
                    <div class="flex-1">
                        <p class="font-bold text-gray-200">${p ? p.name : 'Produk Dihapus'}</p>
                        <p class="text-sm text-gray-500">Size: ${detail.size || '-'} | ${detail.quantity} x Rp${detail.price_at_purchase.toLocaleString('id-ID')}</p>
                    </div>
                    <p class="font-semibold text-brand-400">Rp${totalItem.toLocaleString('id-ID')}</p>
            </div>
            `;
                });
                document.getElementById('total-amount').innerText = `Rp${(order.total_amount || 0).toLocaleString('id-ID')}`;

                // 5. Shipping Info
                // Priority: Courier from JSON -> Courier from DB Column -> 'Ekspedisi Manual'
                const finalCourier = shipCourier || order.courier || 'Ekspedisi Manual';
                document.getElementById('ship-courier').innerText = finalCourier.toUpperCase();

                if (order.status === 'dikirim' || order.status === 'selesai') {
                    document.getElementById('ship-resi').innerText = order.tracking_number || '-';
                    if (order.tracking_number) document.getElementById('btn-copy-resi').classList.remove('hidden');
                }

                // 6. Action Buttons
                renderActionButtons(order);
            }

            function renderActionButtons(order) {
                const container = document.getElementById('action-buttons');
                container.innerHTML = '';

                const btnClass = "py-2.5 px-4 rounded-xl text-sm font-bold transition shadow-lg border text-center cursor-pointer";

                if (order.status === 'menunggu_pembayaran') {
                    container.innerHTML += `
                    <button onclick="updateStatus('${order.id}', 'dikemas')" class="${btnClass} bg-blue-500/20 text-blue-400 border-blue-500/30 hover:bg-blue-500/30 col-span-2">
                        <i class="fas fa-check mr-2"></i>Verifikasi Bayar
                    </button>
                    <button onclick="updateStatus('${order.id}', 'dibatalkan')" class="${btnClass} bg-red-500/20 text-red-400 border-red-500/30 hover:bg-red-500/30 col-span-2">
                        <i class="fas fa-times mr-2"></i>Batalkan
                    </button>
                `;
                } else if (order.status === 'diproses' || order.status === 'dikemas') {
                    container.innerHTML += `
                     <button onclick="updateStatus('${order.id}', 'dikirim')" class="${btnClass} bg-brand-600 text-white hover:bg-brand-500 border-brand-500 col-span-full">
                        <i class="fas fa-truck mr-2"></i>Input Resi & Kirim
                    </button>
                `;
                } else if (order.status === 'dikirim') {
                    container.innerHTML += `
                     <button onclick="editResi('${order.id}', '${order.tracking_number}')" class="${btnClass} bg-yellow-500/10 text-yellow-400 border-yellow-500/30 hover:bg-yellow-500/20 col-span-2">
                        <i class="fas fa-edit mr-2"></i>Edit Resi
                    </button>
                     <button onclick="updateStatus('${order.id}', 'selesai')" class="${btnClass} bg-green-500/20 text-green-400 border-green-500/30 hover:bg-green-500/30 col-span-2">
                        <i class="fas fa-check-double mr-2"></i>Tandai Selesai
                    </button>
                `;
                }
            }

            async function updateStatus(orderId, newStatus) {
                let resi = null;

                if (newStatus === 'dikirim') {
                    const { value: text } = await Swal.fire({
                        title: 'Input Nomor Resi',
                        input: 'text',
                        inputLabel: 'Masukkan nomor resi pengiriman',
                        inputPlaceholder: 'JNE123456...',
                        showCancelButton: true,
                        background: '#121212',
                        color: '#fff',
                        confirmButtonColor: '#7c3aed',
                        cancelButtonColor: '#d33',
                        customClass: { input: 'bg-gray-800 text-white border-gray-600' }
                    });
                    if (!text) return;
                    resi = text;
                }

                const updatePayload = { status: newStatus };
                if (resi) updatePayload.tracking_number = resi;

                try {
                    // 1. If cancelling, restore stock first!
                    if (newStatus === 'dibatalkan') {
                        // Fetch items to restore
                        const { data: orderDetails, error: detailError } = await window.db
                            .from('order_details')
                            .select('product_id, quantity')
                            .eq('order_id', orderId);

                        if (detailError) throw detailError;

                        // Loop and restore stock
                        for (const item of orderDetails) {
                            const { data: prod } = await window.db.from('products').select('stock').eq('id', item.product_id).single();
                            if (prod) {
                                const newStock = prod.stock + item.quantity;
                                await window.db.from('products').update({ stock: newStock }).eq('id', item.product_id);
                            }
                        }
                    }

                    const { error } = await window.db.from('orders').update(updatePayload).eq('id', orderId);
                    if (error) throw error;

                    Swal.fire({
                        title: 'Sukses',
                        text: 'Status diperbarui',
                        icon: 'success',
                        background: '#121212',
                        color: '#fff',
                        confirmButtonColor: '#7c3aed'
                    });
                    loadOrderDetail(orderId);
                } catch (e) {
                    Swal.fire({
                        title: 'Gagal',
                        text: e.message,
                        icon: 'error',
                        background: '#121212',
                        color: '#fff',
                        confirmButtonColor: '#d33'
                    });
                }
            }

            async function editResi(orderId, currentResi) {
                const { value: text } = await Swal.fire({
                    title: 'Edit Nomor Resi',
                    input: 'text',
                    inputValue: currentResi,
                    showCancelButton: true,
                    background: '#121212',
                    color: '#fff',
                    confirmButtonColor: '#7c3aed',
                    cancelButtonColor: '#d33',
                    customClass: { input: 'bg-gray-800 text-white border-gray-600' }
                });
                if (text && text !== currentResi) {
                    const { error } = await window.db.from('orders').update({ tracking_number: text }).eq('id', orderId);
                    if (!error) {
                        Swal.fire({
                            title: 'Sukses',
                            text: 'Resi diupdate',
                            icon: 'success',
                            background: '#121212',
                            color: '#fff',
                            confirmButtonColor: '#7c3aed'
                        });
                        loadOrderDetail(orderId);
                    }
                }
            }

            async function fetchCustomerStats(userId) {
                if (!userId) return;

                // Query: Count finished orders and sum totals
                const { data: stats, error } = await window.db
                    .from('orders')
                    .select('total_amount, status')
                    .eq('user_id', userId)
                    .eq('status', 'selesai');

                if (stats) {
                    const totalOrderCount = stats.length;
                    const totalSpend = stats.reduce((sum, o) => sum + (o.total_amount || 0), 0);

                    // Inject into UI
                    const container = document.getElementById('cust-contact').parentElement.parentElement; // Go up to p-6 container

                    const insightHTML = `
                        <div class="mt-4 pt-4 border-t border-white/5">
                            <p class="text-xs text-brand-400 font-bold uppercase mb-2">ðŸ’Ž Customer Insight</p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="bg-brand-500/10 rounded-lg p-2 border border-brand-500/20 text-center">
                                    <span class="block text-lg font-bold text-white">${totalOrderCount}</span>
                                    <span class="text-[10px] text-gray-400 uppercase">Selesai</span>
                                </div>
                                <div class="bg-brand-500/10 rounded-lg p-2 border border-brand-500/20 text-center">
                                    <span class="block text-sm font-bold text-white">Rp${(totalSpend / 1000).toFixed(0)}k</span>
                                    <span class="text-[10px] text-gray-400 uppercase">Total Jajan</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', insightHTML);
                }
            }

            function copyResi() {
                const resi = document.getElementById('ship-resi').innerText;
                navigator.clipboard.writeText(resi);
                const btn = document.getElementById('btn-copy-resi');
                btn.innerHTML = '<i class="fas fa-check text-green-500"></i>';
                setTimeout(() => btn.innerHTML = '<i class="fas fa-copy"></i>', 2000);
            }

        </script>
</body>

</html>